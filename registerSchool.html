<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script src="js/jquery-3.1.1.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <link rel="stylesheet"  href="css/bootstrap.min.css" />

    <!--城市联动必要样式-->
    <link href="css/bootstrap.min.css" rel="stylesheet"  />
    <link href="css/city-picker.css" rel="stylesheet"  />
    <!--上传图片必要样式和JS-->
    <link href="css/bootstrap-fileinput.css" rel="stylesheet" >
    <script src="js/bootstrap-fileinput.js" type="text/javascript"></script>
    <title>欢迎注册成为秋名山驾校用户</title>
</head>
    <style>
        body{
            padding: 50px;   /*空出导航页面位置*/
        }
    </style>
<body>

    <div id="nav"></div>

    <div class="container">
        <div class="page-header">
            <h1 class="text-center">欢迎注册成为我们网站的驾校</h1><br>
            <h3 class="text-center">请填写以下信息，以便我们为您提供优质的服务</h3>
        </div>
        <br>
    </div>

    <!--基本信息填写-->
    <div class="container" style="border: 1px solid black" >
        <!--进度条-->
        <div class=" col-md-offset-3 col-md-6" >
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-success active" role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step1:基本信息
                </div>
                <div class="progress-bar progress-bar-striped progress-bar-warning " role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step2:驾校详情
                </div>
                <div class="progress-bar progress-bar-striped progress-bar-warning " role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step3：上传相关证件
                </div>
            </div>
        </div>


        <form class="form-horizontal" role="form" >

            <div class="form-group ">
                <div class="col-md-6 col-md-offset-3"  >
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputNumber">账号/邮箱</label>
                    <div class="col-md-4" data-toggle="tooltip" title="此邮箱号将作为您的登录账号使用"  data-placement="right">
                        <input class="form-control" name="InputNumber" type="email" placeholder="Account/Email" id="InputNumber">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputPassword">驾校名称</label>
                    <div class="col-md-4"  data-toggle="tooltip" title="请填写您的驾校全称"  data-placement="right">
                        <input class="form-control" name="InputPassword" type="text" placeholder="School Name" id="InputNickName">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputPassword">密码</label>
                    <div class="col-md-4">
                        <input class="form-control" name="InputPassword" type="password" placeholder="Password" id="InputPassword">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputPasswordAgain">确认密码</label>
                    <div class="col-md-4">
                        <input type="password" name="InputPasswordAgain" placeholder="Password" class="form-control" id="InputPasswordAgain">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputEmail">负责人手机号</label>
                    <div class="col-md-4" data-toggle="tooltip" title="将发送验证码至该手机号"  data-placement="right" >
                        <input type="tel" name="InputEmail" placeholder="Telphone" class="form-control" id="InputEmail">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <label class="col-md-3 col-md-offset-2 control-label" for="inputCode">手机验证码</label>
                    <div class="col-md-4">
                        <input type="text" name="InputNumber" placeholder="Verification Code" class="form-control" id="inputCode">
                    </div>
                    <!--<a href="" class="btn btn-primary btn-sm">验证码</a>-->
                    <button class="btn btn-info btn-sm">获取验证码</button>
                </div>

            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <div class="checkbox col-md-offset-5">
                        <label>
                            <input type="checkbox">
                            我已浏览并接受<a href="" style="color: #25aeff">服务条款</a>
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3" >
                    <div class="col-md-5 col-md-offset-5">
                        <button type="submit" class="btn btn-primary">上一页</button>&emsp;&emsp;&emsp;
                        <button style="" type="reset" class="btn btn-primary">下一页</button>
                    </div>
                </div>
            </div>
        </form>

    </div>

    <!--驾校详情填写-->
    <div class="container"  style="border: 1px solid black">
        <!--进度条-->
        <div class=" col-md-offset-3 col-md-6">
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-success " role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step1:基本信息
                </div>
                <div class="progress-bar progress-bar-striped progress-bar-success active" role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step2:驾校详情
                </div>
                <div class="progress-bar progress-bar-striped progress-bar-warning " role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step3：上传相关证件
                </div>
            </div>
        </div>

        <form class="form-horizontal" role="form"  >
            <div class="form-group ">
                <div class="col-md-6 col-md-offset-3"  >
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputCompanyName">驾校所属公司名</label>
                    <div class="col-md-4" data-toggle="tooltip" title="请填写工商局注册的公司名称"  data-placement="right">
                        <input class="form-control" name="InputCompanyName" type="text" placeholder="Company Name" id="InputCompanyName">
                    </div>
                </div>
            </div>

            <div class="form-group ">
                <div class="col-md-6 col-md-offset-3"  >
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputCorporateName">法人姓名</label>
                    <div class="col-md-4" data-toggle="tooltip" title="请填写公司法人姓名"  data-placement="right">
                        <input class="form-control" name="InputCorporateName" type="text" placeholder="Corporate Name" id="InputCorporateName">
                    </div>
                </div>
            </div>

            <div class="form-group ">
                <div class="col-md-6 col-md-offset-3"  >
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputCorporateNumber">法人电话</label>
                    <div class="col-md-4" data-toggle="tooltip" title="请填写公司法人姓名"  data-placement="right">
                        <input class="form-control" name="InputCorporateNumber" type="tel" placeholder="Corporate Tel" id="InputCorporateNumber">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputSocialCode">社会信用代码</label>
                    <div class="col-md-4"  data-toggle="tooltip" title="请填写您驾校的完整社会信用代码"  data-placement="right">
                        <input class="form-control" name="InputSocialCode" type="text" placeholder="Social Credit Code" id="InputSocialCode">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputEnbarkTime">驾校成立时间</label>
                    <div class="col-md-4">
                        <input class="form-control" name="InputEnbarkTime" type="date" placeholder="Password" id="InputEnbarkTime">
                    </div>
                </div>
            </div>


            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <label class="col-md-3 col-md-offset-2 control-label" for="InputDistrict">驾校所在地区</label>
                    <!--城市联动核心代码-->
                    <div class="docs-methods">
                            <div id="distpicker">
                                <div class="form-group">
                                    <div class="col-md-5">
                                        <input id="city-picker3" name="InputDistrict" id="InputDistrict" class="form-control " readonly type="text" data-toggle="city-picker">
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3" >
                    <label class="col-md-3 col-md-offset-2 control-label"for="InputDetailedLocation">驾校详细地址</label>
                    <div class="col-md-5">
                        <textarea class="form-control" name="InputDetailedLocation" id="InputDetailedLocation" placeholder="Detailed Location" rows="2"></textarea>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-6 col-md-offset-3" >
                    <div class="col-md-5 col-md-offset-5">
                        <button type="submit" class="btn btn-primary">上一页</button>&emsp;&emsp;&emsp;
                        <button style="" type="reset" class="btn btn-primary">下一页</button>
                    </div>
                </div>

            </div>
        </form>
    </div>

    <!--上传三证-->
    <div class="container"  style="border: 1px solid black">
        <!--进度条-->
        <div class=" col-md-offset-3 col-md-6">
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step1:基本信息
                </div>
                <div class="progress-bar progress-bar-striped progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step2:驾校详情
                </div>
                <div class="progress-bar progress-bar-striped progress-bar-success active" role="progressbar" aria-valuemin="0" aria-valuemax="100"  style="width: 33.3%">
                    Step3：上传相关证件
                </div>
            </div>
        </div>

        <form class="form-horizontal" role="form"  >
            <div class="form-group ">
                <div class="col-md-6 col-md-offset-3"  >
                    <label class="col-md-4 col-md-offset-2 control-label" for="InputCorporateId">法人手持身份证相片</label>
                    <div class="col-md-5">
                        <div class="fileinput fileinput-new" data-provides="fileinput" >
                            <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
                            </div>
                            <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"></div>
                            <div>
                            <span class="btn default btn-file">
                            <span class="fileinput-new"><a href="" class="btn btn-info">选择图片</a></span>
                            <span class="fileinput-exists"><a href="" class="btn btn-info">更改</a></span>
                            <input type="file" name="InputCorporateId" id="InputCorporateId" /></span>
                                <span href="#" class="btn default fileinput-exists" data-dismiss="fileinput"><a href="" class="btn btn-info">移除</a></span>
                                <p class="">1、请被授权人手持身份证正面合照，上传。 <br>2、JPG或PNG格式，图片大小不能超过2MB。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group ">
                <div class="col-md-6 col-md-offset-3"  >
                    <label class="col-md-4 col-md-offset-2 control-label" for="InputCertificationlicense">驾校信息管理授权书</label>
                    <div class="col-md-5">
                        <div class="fileinput fileinput-new" data-provides="fileinput">
                            <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
                                <img src="${companyInfo.image}" alt="" />
                            </div>
                            <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"></div>
                            <div>
                            <span class="btn default btn-file">
                            <span class="fileinput-new"><a href="" class="btn btn-info">选择图片</a></span>
                            <span class="fileinput-exists"><a href="" class="btn btn-info">更改</a></span>
                            <input type="file" name="InputCorporateId" id="InputCertificationlicense" /></span>
                                <span href="#" class="btn default fileinput-exists" data-dismiss="fileinput"><a href="" class="btn btn-info">移除</a></span>
                                <p class="">1、将加盖公章后的授权书扫描或拍照，然后上传。<br>2、JPG或PNG格式，图片大小不能超过2MB。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group ">
                <div class="col-md-6 col-md-offset-3"  >
                    <label class="col-md-4 col-md-offset-2 control-label" for="InputBusinessLicense">营业执照</label>
                    <div class="col-md-5">
                        <div class="fileinput fileinput-new" data-provides="fileinput" id="uploadImageDiv">
                            <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
                                <img src="${companyInfo.image}" alt="" />
                            </div>
                            <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"></div>
                            <div>
                            <span class="btn default btn-file">
                            <span class="fileinput-new"><a href="" class="btn btn-info">选择图片</a></span>
                            <span class="fileinput-exists"><a href="" class="btn btn-info">更改</a></span>
                            <input type="file" name="InputCorporateId" id="InputBusinessLicense" /></span>
                                <span href="#" class="btn default fileinput-exists" data-dismiss="fileinput"><a href="" class="btn btn-info">移除</a></span>
                                <p class="">1、将经营许可证复印<br>2、该复印件加盖公章<br>3、将加盖公章后的复印件扫描或拍照，然后上传。<br>4、JPG或PNG格式，图片大小不能超过2MB。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3" >
                    <div class="col-md-5 col-md-offset-5">
                        <button type="button" class="btn btn-primary">上一页</button>&emsp;&emsp;&emsp;
                        <button style="" type="submit" class="btn btn-primary">提交</button>
                    </div>
                </div>

            </div>
        </form>
    </div>


    <!--城市联动JS-->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/city-picker.data.js"></script>
    <script src="js/city-picker.js"></script>
    <script src="js/main.js"></script>
    <script>
        $("#nav").load("nav.html");//导入导航页面
        $('[data-toggle="tooltip"]').tooltip();  //初始化
    </script>
    <!--上传图片必要JavaScript-->
    <script>
        var url = '';
        $("#uploadImage").fileupload({
            url : ROOT + "/security/company/uploadFile",
            dataType : 'json',
            autoUpload : false,
            acceptFileTypes : /(gif|jpe?g|png)$/i,
            maxFileSize : 1000000, // 1 MB
            imageMaxWidth : 100,
            imageMaxHeight : 100,
            messages : {
                acceptFileTypes : '文件类型不匹配',
                maxFileSize : '文件过大',
                minFileSize : '文件过小'
            }
        }).on("fileuploadadd", function(e, data) {
            // 当文件添加上去时候调用
            $("#titleImageError").html("");
            data.submit()
        }).on("fileuploaddone", function(e, data) {
            // 上传完成时调用
            if (data.result.returnState == "ERROR") {
                alert("上传失败")
                return;
            }
            url = data.result.returnData.url;
        });

        function updateMsg() {
            $.ajax({
                url : ROOT + "/security/company/updateInfo",
                data : {
                    id : $("#companyId").val(),
                    image : url,
                    companyName : $("#companyName").val(),
                    companySite : $("#companySite").val(),
                    companyLinker : $("#companyLinker").val(),
                    companyTel : $("#companyTel").val()
                },
                type : "post",
                success : function(data) {
                    if (data.returnState == "OK") {
                        layer.msg('操作成功', {
                            icon : 6,
                            shade : 0.01,
                            offset : [ '57px', '1100px' ]
                        });
                        $table.bootstrapTable('refresh');
                    } else {
                        layer.msg('操作失败', {
                            icon : 5,
                            shade : 0.01,
                            offset : [ '90px', '900px' ]
                        });
                    }
                }
            });
        }
    </script>

</body>
</html>